# =============================================================
# k8s/service.yaml
# Service NodePort — expone la app en el puerto 30080 del nodo
# Acceso local: http://localhost:30080
# =============================================================

apiVersion: v1
kind: Service
metadata:
  name: actividadu2lab-svc
  namespace: default
  labels:
    app: actividadu2lab
spec:
  type: NodePort        # accesible desde fuera del cluster en local
  selector:
    app: actividadu2lab # enruta al Deployment de arriba
  ports:
    - name: http
      protocol: TCP
      port: 80          # puerto del Service interno
      targetPort: 3000  # puerto del contenedor
      nodePort: 30080   # puerto expuesto en el nodo (rango: 30000-32767)
                        # → accede vía http://localhost:30080
